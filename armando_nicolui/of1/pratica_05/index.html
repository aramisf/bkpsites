<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>CI066 - Oficina de Programa&#231;&#227;o Laborat&#243;rio 05
</TITLE>
<META NAME="description" CONTENT="CI066 - Oficina de Programa&#231;&#227;o Laborat&#243;rio 05
">
<META NAME="keywords" CONTENT="pratica">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="pratica.css">

</HEAD>

<BODY  BACKGROUND = lightblue_01.jpg >

<P>

<P>
<H1 ALIGN="CENTER">CI066 - Oficina de Programa&#231;&#227;o 
<BR>
Laborat&#243;rio 05
<BR></H1>
<DIV>

<P ALIGN="CENTER"><STRONG>Prof. Armando Luiz N. Delgado</STRONG></P>
</DIV>

<P>

<OL>
<LI>Copie o  diret&#243;rio <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum5</FONT></B>  para sua  &#225;rea de
  login.

<P>
</LI>
<LI><B>Entrada e  Sa&#237;da Padr&#227;o. Redirecionamento.</B>  Concatene os
  arquivos          <B><FONT FACE="Helvetica, Arial, sans-serif">texto_01.txt</FONT></B>,         <B><FONT FACE="Helvetica, Arial, sans-serif">texto_02.txt</FONT></B>,
  <B><FONT FACE="Helvetica, Arial, sans-serif">texto_03.txt</FONT></B>,             <B><FONT FACE="Helvetica, Arial, sans-serif">texto_04.txt</FONT></B>             em
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/docs</FONT></B>, sendo  que o resultado  deve ser colocado
  no arquivo <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/TextoConcatenado.txt</FONT></B>.

<P>
N&#195;O VALE USAR EDITOR DE TEXTO.

<P>
<B>DICA:</B> O  comando <B><I>cat(1)</I></B> &#233;  usado para exibir na  tela o
               conte&#250;do  de 1  (um) arquivo.  Se mais  de um  arquivo &#233;
               fornecido como argumento do comando, os conte&#250;dos destes
               arquivos ser&#227;o exibidos na tela um ap&#243;s o outro.

<P>
</LI>
<LI>Acrescente        ao        final        do        arquivo
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/docs/texto_01.txt</FONT></B>      o      conte&#250;do     de
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/docs/texto_04.txt</FONT></B>.

<P>
AINDA N&#195;O VALE USAR EDITOR DE TEXTO.

<P>
</LI>
<LI>Liste  os arquivos  de  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/docs</FONT></B>  e coloque  o
  resultado no arquivo <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/arquivos.lst</FONT></B>.

<P>
</LI>
<LI>Acrescente ao final de <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/arquivos.lst</FONT></B> a rela&#231;&#227;o dos
  arquivos em <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum4</FONT></B> que  n&#227;o s&#227;o diret&#243;rios e que
  n&#227;o s&#227;o execut&#225;veis.

<P>
</LI>
<LI>Fa&#231;a com  que o efeito destrutivo dos  redirecionamentos de sa&#237;da
  (&nbsp;&gt;&nbsp;e &nbsp;2&gt;&nbsp;) seja bloqueado pelo <I>shell</I>.

<P>
<B>DICA:</B>     Veja    a    se&#231;&#227;o     sobre    o     assunto    nas
<A NAME="tex2html1"
  HREF="http://www.inf.ufpr.br/nicolui/grad/ci066/2-2007/teoria_05">Notas de Aula # 05</A>.

<P>
</LI>
<LI>Coloque  no arquivo  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/arquivos.lst</FONT></B>  a rela&#231;&#227;o  dos
  arquivos  em   <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum4</FONT></B>  que  S&#195;O   diret&#243;rios.   O
  conte&#250;do    anterior   de   <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/arquivos.lst</FONT></B>    deve   ser
  descartado. Este exerc&#237;cio deve ser resolvido com APENAS uma linha de
  comando e usando APENAS o comando <B><I>find(1)</I></B>.

<P>
</LI>
<LI><B><I>Pipelines</I>.</B>  Usando uma &#250;nica  linha de comando,
  produza  uma  lista ordenada  de  todos  os  arquivos em  <B><FONT FACE="Helvetica, Arial, sans-serif">/bin</FONT></B>,
  <B><FONT FACE="Helvetica, Arial, sans-serif">/usr/bin</FONT></B> e  <B><FONT FACE="Helvetica, Arial, sans-serif">/usr/local/bin</FONT></B> cujo nome  comece pelas letras
  <B>a</B>, <B>b</B> ou <B>c</B>.   O resultado deve ser colocado
  em <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/comandos.lst</FONT></B>.

<P>
<B>DICA:</B>  Para  ordenar o  conte&#250;do  de  um  arquivo, usa-se  o
                  comando <B><I>sort(1)</I></B>.

<P>
<B>PARA REFLETIR:</B> Para encontrar  os arquivos neste exerc&#237;cio &#233;
                  melhor usar <B><I>ls(1)</I></B> ou <B><I>find(1)</I></B>?

<P>
</LI>
<LI>Execute  o  comando   <B><I>who(1)</I></B>,  ordene  o  resultado  com
  <B><I>sort(1)</I></B>   e   o    resultado   final   coloque   no   arquivo
  <B><FONT FACE="Helvetica, Arial, sans-serif">usuarios.txt</FONT></B> no diret&#243;rio <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5</FONT></B>.

<P>
</LI>
<LI>Como descobrir quantos arquivos existem em um diret&#243;rio, usando
  o <B><I>ls(1)</I></B> e <B><I>wc(1)</I></B>?

<P>
</LI>
<LI>Utilizando <B><I>echo(1)</I></B>,  exiba  na tela  a frase  <B>``O
    diretorio        corrente        possui</B>        <I>num_files</I>
    <B>arquivos.''</B>,  onde  <B><I>num_files</I></B> deve  ser
    substitu&#237;do pelo n&#250;mero de arquivos do diret&#243;rio corrente.

<P>
<B>DICA:</B> Veja a Se&#231;&#227;o  4 nas <A NAME="tex2html2"
  HREF="http://www.inf.ufpr.br/nicolui/grad/ci066/2-2007/teoria_05">Notas de Aula
# 05</A>.

<P>
</LI>
<LI><B>Mais <I>Pipelines</I>.</B>Como  fazer para  se  obter uma
  lista de todos  usu&#225;rios logados no computador que  voc&#234; est&#225; usando,
  ordenada alfabeticamente?  Elimine poss&#237;veis duplica&#231;&#245;es  de nomes de
  usu&#225;rios.

<P>
<B>DICA   1:</B>   Problemas   deste   tipo  s&#227;o   resolvidos   por
                   partes. Verifica-se  qual comando UNIX  resolve cada
                   parte e  depois combina-se os  comandos selecionados
                   usando-se <I>pipeline</I>.

<P>
<B>DICA  2:</B>   Neste  exerc&#237;cio,  verifique   como  os  comandos
                 <B><I>sort(1)</I></B>,  <B><I>who(1)</I></B>  e <B><I>cut(1)</I></B>  podem
                 ajud&#225;-lo.

<P>
</LI>
<LI>Voc&#234;  quer saber quem  s&#227;o os campe&#245;es  de espa&#231;o ocupado  em sua
  &#225;rea (por exemplo, diret&#243;rios cujos arquivos no total ocupem mais que
  500 Kbytes ou arquivos cujo tamanho seja maior que 100 Kbytes). D&#234; uma
  solu&#231;&#227;o para este problema usando pelo menos um <I>pipeline</I>.

<P>
<B>DICA 1:</B> Veja a <B>DICA 1:</B> do item anterior.

<P>
<B>DICA   2:</B>  Verifique   como   os  comandos   <B><I>sort(1)</I></B>,
                 <B><I>du(1)</I></B> e <B><I>find(1)</I></B> podem ajud&#225;-lo.

<P>
</LI>
<LI>Concatene                os               arquivos
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum5/docs/arqs_01.txt</FONT></B>,
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum5/docs/arqs_02.txt</FONT></B>                        e
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>ci066/LabNum5/docs/arqs_03.txt</FONT></B>    para    o    arquivo
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/arqs.txt</FONT></B>, que ao final deve ser comprimido com
  <B><I>bzip2(1)</I></B>            produzindo            o            arquivo
  <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5/arqs.txt.bz2</FONT></B>. Esta opera&#231;&#227;o  deve ser feita em
  apenas UMA linha de comando, usando <I>pipelines</I>.

<P>
</LI>
</OL>

<P>

<H1><A NAME="SECTION00010000000000000000">
Conclus&#245;es</A>
</H1>

<P>

<UL>
<LI>Remova todo o subdiret&#243;rio <B><FONT FACE="Helvetica, Arial, sans-serif"><FONT SIZE=3>~</FONT>/LabNum5</FONT></B>.
</LI>
<LI>ASSUNTOS DA PR&#211;XIMA SEMANA:
  
<UL>
<LI>Comandos Avan&#231;ados: Filtros;
</LI>
<LI>Combinando filtros com <I>pipelines</I>.
  
</LI>
</UL>
</LI>
</UL>

<P>
<BR><HR>
<ADDRESS>
Armando Luiz Nicolini Delgado
2003-10-23
</ADDRESS>
</BODY>
</HTML>
